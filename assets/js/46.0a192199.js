(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{563:function(e,t,a){"use strict";a.r(t);var s=a(17),v=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"glsl-è¯­æ³•ä¸å†…å»ºå‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#glsl-è¯­æ³•ä¸å†…å»ºå‡½æ•°"}},[e._v("#")]),e._v(" GLSL è¯­æ³•ä¸å†…å»ºå‡½æ•°")]),e._v(" "),a("img",{staticStyle:{zoom:"200%"},attrs:{src:"https://s2.loli.net/2022/07/18/OCM5gRimHfbxew3.jpg",alt:"GLSL"}}),e._v(" "),a("p",[e._v("æœ€è¿‘ä¸€ç›´å¯¹"),a("code",[e._v("Creative Coding")]),e._v(" éƒ¨åˆ†å¾ˆæ„Ÿå…´è¶£ï¼Œä¹Ÿåœ¨ä¸æ–­åœ°æ¢ç´¢ä¸å­¦ä¹ ï¼Œåœ¨å­¦ä¹ "),a("code",[e._v("WebGL")]),e._v("éƒ¨åˆ†åœ°æ—¶å€™æ¥è§¦åˆ°äº†"),a("code",[e._v("GLSL")]),e._v("è¿™é—¨ç¾å¦™ä¸”ç¥å¥‡çš„è¯­è¨€ã€‚è™½ç„¶ç°åœ¨å­¦çš„è¿˜æ˜¯äº‘é‡Œé›¾é‡Œçš„ï¼Œä½†æ˜¯ä¸ºäº†åæœŸæ–¹ä¾¿æŸ¥è¯¢ä¸€äº› APIï¼Œåœ¨è¯¥ç¯‡æ–‡ç« ä¸­è®°å½•ä¸€ä¸‹"),a("code",[e._v("GLSL")]),e._v("çš„åŸºæœ¬è¯­æ³•ä»¥åŠå†…å»ºå‡½æ•°ã€‚")]),e._v(" "),a("p",[a("code",[e._v("GLSL")]),e._v("å…¨ç§°ä¸º"),a("code",[e._v("OpenGL Shading Language")]),e._v("ï¼Œæ˜¯ä¸ºäº†å®ç°ç€è‰²å™¨çš„åŠŸèƒ½è€Œå‘å¼€å‘äººå‘˜æä¾›çš„ä¸€ç§å¼€å‘è¯­è¨€ï¼Œå¯¹å…¶åªè¦èƒ½ç†è§£åˆ°è¿™ä¸ªå±‚æ¬¡å°±å¯ä»¥äº†ã€‚")]),e._v(" "),a("blockquote",[a("p",[e._v("æ¯ä¸ª shader åªå¤„ç†ä¸€ä¸ªåƒç´ å•å…ƒ")])]),e._v(" "),a("h2",{attrs:{id:"glsl-çš„ä¿®é¥°ç¬¦ä¸åŸºæœ¬æ•°æ®ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#glsl-çš„ä¿®é¥°ç¬¦ä¸åŸºæœ¬æ•°æ®ç±»å‹"}},[e._v("#")]),e._v(" GLSL çš„ä¿®é¥°ç¬¦ä¸åŸºæœ¬æ•°æ®ç±»å‹")]),e._v(" "),a("h3",{attrs:{id:"ğŸŒŸ-ä¿®é¥°ç¬¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-ä¿®é¥°ç¬¦"}},[e._v("#")]),e._v(" ğŸŒŸ ä¿®é¥°ç¬¦")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("const")]),e._v("ï¼šç”¨äºå£°æ˜éå¯å†™çš„ç¼–è¯‘æ—¶å¸¸é‡å˜é‡ã€‚")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("attribute")]),e._v("ï¼šç”¨äºç»å¸¸æ›´æ”¹çš„ä¿¡æ¯ï¼Œåªèƒ½åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­ä½¿ç”¨ã€‚")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("uniform")]),e._v("ï¼šç”¨äºä¸ç»å¸¸æ›´æ”¹çš„ä¿¡æ¯ï¼Œå¯ç”¨äºé¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨ã€‚")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("varying")]),e._v("ï¼šç”¨äºä¿®é¥°ä»é¡¶ç‚¹ç€è‰²å™¨å‘ç‰‡å…ƒç€è‰²å™¨ä¼ é€’çš„å˜é‡ã€‚")]),e._v(" "),a("blockquote",[a("p",[e._v("è¿™ä¸ªä¿®é¥°ç¬¦ä¿®é¥°çš„å˜é‡å‡ç”¨äºåœ¨"),a("code",[e._v("Vertex Shader")]),e._v("å’Œ"),a("code",[e._v("Fragment Shader")]),e._v("ä¹‹é—´ä¼ é€’å‚æ•°ã€‚é¦–å…ˆåœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­å£°æ˜è¿™ä¸ªç±»å‹çš„å˜é‡ä»£è¡¨çº¹ç†çš„åæ ‡ç‚¹ï¼Œå¹¶ä¸”å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œèµ‹å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("attribute vec2 texcoord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nvarying vec2 v_texcoord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// è®¡ç®—é¡¶ç‚¹åæ ‡")]),e._v("\n    v_texcoord "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" texcoord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("ç´§æ¥ç€åœ¨"),a("code",[e._v("Fragment Shader")]),e._v("ä¸­ä¹Ÿå£°æ˜åŒåçš„å˜é‡ï¼Œç„¶åä½¿ç”¨"),a("code",[e._v("texture2D")]),e._v("æ–¹æ³•å–å‡ºäºŒç»´çº¹ç†ä¸­è¯¥çº¹ç†åæ ‡ç‚¹ä¸Šçš„çº¹ç†åƒç´ å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼ˆGLSL ä»£ç ï¼‰ï¼š")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("varying vec2 v_texcoord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nvec4 texel "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("texture2D")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("texSampler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" v_texcoord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("å–å‡ºäº†è¯¥åæ ‡ç‚¹ä¸Šçš„åƒç´ å€¼ä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œåƒç´ å˜åŒ–æ“ä½œäº†ï¼Œæ¯”å¦‚è¯´æé«˜å¯¹æ¯”åº¦ï¼Œæœ€ç»ˆå°†æ”¹å˜çš„åƒç´ å€¼èµ‹å€¼ç»™"),a("code",[e._v("gl_FragColor")]),e._v("ã€‚")])])])]),e._v(" "),a("h3",{attrs:{id:"ğŸŒŸ-åŸºæœ¬æ•°æ®ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-åŸºæœ¬æ•°æ®ç±»å‹"}},[e._v("#")]),e._v(" ğŸŒŸ åŸºæœ¬æ•°æ®ç±»å‹")]),e._v(" "),a("p",[a("code",[e._v("int")]),e._v("ã€"),a("code",[e._v("float")]),e._v("ã€"),a("code",[e._v("bool")]),e._v("ï¼Œè¿™äº›ä¸ C è¯­è¨€éƒ½æ˜¯ä¸€è‡´çš„ï¼Œéœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹å°±æ˜¯ï¼Œè¿™é‡Œé¢çš„ float æ˜¯æœ‰ä¸€ä¸ªä¿®é¥°ç¬¦çš„ï¼Œå³å¯ä»¥æŒ‡å®šç²¾åº¦ã€‚ä¸‰ç§ä¿®é¥°ç¬¦çš„èŒƒå›´ï¼ˆèŒƒå›´ä¸€èˆ¬è§†æ˜¾å¡è€Œå®šï¼‰å’Œåº”ç”¨æƒ…å†µå…·ä½“å¦‚ä¸‹ã€‚")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("highp")]),e._v(":32bitï¼Œä¸€èˆ¬ç”¨äºé¡¶ç‚¹åæ ‡ï¼ˆvertex Coordinateï¼‰ã€‚")]),e._v(" "),a("li",[a("code",[e._v("medium")]),e._v(":16bitï¼Œä¸€èˆ¬ç”¨äºçº¹ç†åæ ‡ï¼ˆtexture Coordinateï¼‰ã€‚")]),e._v(" "),a("li",[a("code",[e._v("lowp")]),e._v(":8bitï¼Œä¸€èˆ¬ç”¨äºé¢œè‰²è¡¨ç¤ºï¼ˆcolorï¼‰ã€‚")])]),e._v(" "),a("h4",{attrs:{id:"ğŸ‘‰-å‘é‡ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘‰-å‘é‡ç±»å‹"}},[e._v("#")]),e._v(" ğŸ‘‰ å‘é‡ç±»å‹")]),e._v(" "),a("p",[a("code",[e._v("å‘é‡ç±»å‹")]),e._v("æ˜¯ Shader ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œåœ¨åšæ•°æ®ä¼ é€’çš„æ—¶å€™éœ€è¦ç»å¸¸ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œç›¸è¾ƒäºå†™å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½¿ç”¨å‘é‡ç±»å‹æ˜¯éå¸¸å¥½çš„é€‰æ‹©")]),e._v(" "),a("p",[e._v("å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼ˆGLSL ä»£ç ï¼‰ï¼š")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("attribute vec4 position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//vec4è¡¨ç¤ºå››ç»´å‘é‡")]),e._v("\n")])])]),a("h4",{attrs:{id:"çŸ©é˜µç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çŸ©é˜µç±»å‹"}},[e._v("#")]),e._v(" çŸ©é˜µç±»å‹")]),e._v(" "),a("p",[a("code",[e._v("çŸ©é˜µç±»å‹")]),e._v("åœ¨ Shader çš„è¯­æ³•ä¸­ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç±»å‹ï¼Œæœ‰ä¸€äº›æ•ˆæœå™¨éœ€è¦å¼€å‘è€…ä¼ å…¥çŸ©é˜µç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚åé¢ä¼šæ¥è§¦åˆ°çš„æ€€æ—§æ•ˆæœå™¨ï¼Œå°±éœ€è¦ä¼ å…¥ä¸€ä¸ªçŸ©é˜µæ¥æ”¹å˜åŸå§‹çš„åƒç´ æ•°æ®ã€‚å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼ˆGLSL ä»£ç ï¼‰ï¼š")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("uniform lowp mat4 colorMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//mat4è¡¨ç¤º4x4çš„æµ®ç‚¹çŸ©é˜µ")]),e._v("\n")])])]),a("h4",{attrs:{id:"çº¹ç†ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¹ç†ç±»å‹"}},[e._v("#")]),e._v(" çº¹ç†ç±»å‹")]),e._v(" "),a("p",[e._v("ä¸€èˆ¬ä»…åœ¨ Fragment Shader ä¸­ä½¿ç”¨è¿™ä¸ªç±»å‹ï¼ŒäºŒç»´çº¹ç†çš„å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼ˆGLSL ä»£ç ï¼‰ï¼š")]),e._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("uniform sampler2D texSamplerï¼›\n")])])]),a("blockquote",[a("p",[e._v("å½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°è¿™ä¸ªå¥æŸ„æ—¶ï¼Œå°±å¯ä»¥ä¸ºå®ƒç»‘å®šä¸€ä¸ªçº¹ç†ï¼Œä»£ç å¦‚ä¸‹ï¼ˆå®¢æˆ·ç«¯ä»£ç ï¼‰ï¼š glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_2D, texId); glUniform1i(mGLUniformTexture, 0); æ³¨æ„ä¸Šè¿°ä»£ç ä¸­ç¬¬ä¸€è¡Œæ¿€æ´»çš„æ˜¯å“ªä¸€ä¸ªçº¹ç†å¥æŸ„ï¼Œç¬¬ä¸‰è¡Œä»£ç ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°éœ€è¦ä¼ é€’å¯¹åº”çš„ Indexï¼Œå°±åƒä»£ç ä¸­æ¿€æ´»çš„çº¹ç†å¥æŸ„æ˜¯ GL_TEXTURE0ï¼Œå¯¹åº”çš„ Index å°±æ˜¯ 0ï¼Œå¦‚æœæ¿€æ´»çš„çº¹ç†å¥æŸ„æ˜¯ GL_TEXTURE1ï¼Œé‚£ä¹ˆå¯¹åº”çš„ Index å°±æ˜¯ 1")])]),e._v(" "),a("h2",{attrs:{id:"äºŒã€glsl-çš„å†…ç½®å‡½æ•°ä¸å†…ç½®å˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€glsl-çš„å†…ç½®å‡½æ•°ä¸å†…ç½®å˜é‡"}},[e._v("#")]),e._v(" äºŒã€GLSL çš„å†…ç½®å‡½æ•°ä¸å†…ç½®å˜é‡")]),e._v(" "),a("h3",{attrs:{id:"ğŸŒŸ-å†…ç½®å˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-å†…ç½®å˜é‡"}},[e._v("#")]),e._v(" ğŸŒŸ å†…ç½®å˜é‡")]),e._v(" "),a("h4",{attrs:{id:"vertex-shader-çš„å†…ç½®å˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vertex-shader-çš„å†…ç½®å˜é‡"}},[e._v("#")]),e._v(" Vertex Shader çš„å†…ç½®å˜é‡ï¼š")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("vec4 gl_position")]),e._v("ï¼šç”¨æ¥è®¾ç½®é¡¶ç‚¹è½¬æ¢åˆ°å±å¹•åæ ‡çš„ä½ç½®ï¼ŒVertex Shader ä¸€å®šè¦å»æ›´æ–°è¿™ä¸ªæ•°å€¼ã€‚")]),e._v(" "),a("li",[a("code",[e._v("float gl_pointSize")]),e._v("ï¼šåœ¨ç²’å­æ•ˆæœçš„åœºæ™¯ä¸‹ï¼Œéœ€è¦ä¸ºç²’å­è®¾ç½®å¤§å°ï¼Œæ”¹å˜è¯¥å†…ç½®å˜é‡çš„å€¼å°±æ˜¯ä¸ºäº†è®¾ç½®æ¯ä¸€ä¸ªç²’å­çŸ©å½¢çš„å¤§å°ã€‚")])]),e._v(" "),a("h4",{attrs:{id:"fragment-shader-çš„å†…ç½®å˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fragment-shader-çš„å†…ç½®å˜é‡"}},[e._v("#")]),e._v(" Fragment Shader çš„å†…ç½®å˜é‡ï¼š")]),e._v(" "),a("p",[a("code",[e._v("vec4 gl_FragColor")]),e._v("ï¼šç”¨äºæŒ‡å®šå½“å‰çº¹ç†åæ ‡æ‰€ä»£è¡¨çš„åƒç´ ç‚¹çš„æœ€ç»ˆé¢œè‰²å€¼ã€‚")]),e._v(" "),a("h3",{attrs:{id:"ğŸŒŸ-å†…ç½®å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-å†…ç½®å‡½æ•°"}},[e._v("#")]),e._v(" ğŸŒŸ å†…ç½®å‡½æ•°")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("abs(genType x)")]),e._v("ï¼šç»å¯¹å€¼å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("floor(genType x)")]),e._v("ï¼šå‘ä¸‹å–æ•´å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("ceil(genType x)")]),e._v("ï¼šå‘ä¸Šå–æ•´å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("mod(genType x, genType y)")]),e._v("ï¼šå–æ¨¡å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("min(genType x, genType y)")]),e._v("ï¼šå–å¾—æœ€å°å€¼å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("max(genType x, genType y)")]),e._v("ï¼šå–å¾—æœ€å¤§å€¼å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("clamp(genType x, genType y, genType z)")]),e._v("ï¼šå–å¾—ä¸­é—´å€¼å‡½æ•°ã€‚")]),e._v(" "),a("li",[a("code",[e._v("step(genType edge, genType x)")]),e._v("ï¼šå¦‚æœ x < edgeï¼Œåˆ™è¿”å› 0.0ï¼Œå¦åˆ™è¿”å› 1.0ã€‚")]),e._v(" "),a("li",[a("code",[e._v("smoothstep(genType edge0, genType edge1, genType x)")]),e._v("ï¼šå¦‚æœ xâ‰¤edge0ï¼Œåˆ™è¿”å› 0.0ï¼›å¦‚æœ xâ‰¥edge1ï¼Œåˆ™è¿”å› 1.0ï¼›å¦‚æœ edge0 < x < edge1ï¼Œåˆ™æ‰§è¡Œ 0 ï½ 1 ä¹‹é—´çš„å¹³æ»‘å·®å€¼ã€‚")]),e._v(" "),a("li",[a("code",[e._v("mix(genType x, genType y, genType a)")]),e._v("ï¼šè¿”å›çº¿æ€§æ··åˆçš„ x å’Œ yï¼Œç”¨å…¬å¼è¡¨ç¤ºä¸ºï¼šx*(1-a)+y*aï¼Œè¿™ä¸ªå‡½æ•°åœ¨ mix ä¸¤ä¸ªçº¹ç†å›¾åƒçš„æ—¶å€™éå¸¸æœ‰ç”¨ã€‚")])])])}),[],!1,null,null,null);t.default=v.exports}}]);