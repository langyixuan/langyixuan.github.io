(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{567:function(s,t,a){"use strict";a.r(t);var n=a(17),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"npm-常用命令总结-一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-常用命令总结-一"}},[s._v("#")]),s._v(" npm 常用命令总结（一）")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("·"),a("code",[s._v("npm的全称是(Node Package Manager)")]),s._v("，是随同 NodeJS 一起安装的包管理和分发工具，它很方便让 JavaScript 开发者"),a("strong",[s._v("下载、安装、上传以及管理已经安装的包")]),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("先说明下 下面会用到的几个变量：")])]),s._v(" "),a("blockquote",[a("ul",[a("li",[a("name",[s._v("|"),a("pkg",[s._v(" 模块名")])],1)],1),s._v(" "),a("li",[a("version",[s._v(" 版本号")])],1),s._v(" "),a("li",[a("version",{attrs:{range:""}},[s._v(" 版本范围")])],1),s._v(" "),a("li",[s._v("<@scope> 作用域。所有 npm 软件包都有一个名称。某些软件包名称也有作用域。")])])]),s._v(" "),a("h2",{attrs:{id:"一、安装配置-node-和前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装配置-node-和前言"}},[s._v("#")]),s._v(" 一、安装配置 Node 和前言")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 npm 的版本")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" -v  //6.4.0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" 安装成功会返回版本号\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看各个命令的简单用法")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" -l\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 npm 命令列表")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 npm 的配置")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config list -l\n")])])]),a("h2",{attrs:{id:"二、npm-init-创建模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、npm-init-创建模块"}},[s._v("#")]),s._v(" 二、npm init 创建模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n")])])]),a("p",[a("code",[s._v("npm init")]),s._v("用来初始化生成一个新的"),a("code",[s._v("package.json")]),s._v("文件。它会向用户提问一系列问题，如果觉得不用修改默认配置，一路回车就可以了。")]),s._v(" "),a("p",[s._v("尾缀带"),a("code",[s._v("-f")]),s._v("（代表 force）、"),a("code",[s._v("-y")]),s._v("（代表 yes），则跳过提问阶段，直接生成一个新的"),a("code",[s._v("package.json")]),s._v("文件，不带尾缀的话，默认有提问阶段。")]),s._v(" "),a("p",[s._v("以上创建好之后就可以在 Package.json 直接看了 还可以在里面修改更新。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/bVbE9zQ",alt:"image.png"}})]),s._v(" "),a("h2",{attrs:{id:"三、npm-set-设置环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、npm-set-设置环境变量"}},[s._v("#")]),s._v(" 三、npm set 设置环境变量")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://segmentfault.com/img/bVbFiuF",alt:"image.png"}}),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" init-author-name "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my name jerry'")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" init-author-email "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12345@qq.com'")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" init-author-url "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://yourdomain.com'")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" init-license "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MIT'")]),s._v("\n执行了以上的修改，此时 Package.json并没有发生变化\n\n//设置后执行init才是真正修改成功\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n")])])]),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/bVbFiuO",alt:"image.png"}})]),s._v(" "),a("h2",{attrs:{id:"四、npm-search-搜索模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、npm-search-搜索模块"}},[s._v("#")]),s._v(" 四、npm search 搜索模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" search "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("搜索词"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[a("code",[s._v("npm search")]),s._v("命令用于搜索 npm 仓库，它后面可以跟字符串，也可以跟正则表达式。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/bVbFivk",alt:"image.png"}})]),s._v(" "),a("h2",{attrs:{id:"五、npm-list-查看模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、npm-list-查看模块"}},[s._v("#")]),s._v(" 五、npm list 查看模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当前项目安装的所有模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$npm")]),s._v(" list\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出全局安装的模块 带上[--depth 0] 不深入到包的支点 更简洁")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" list -g --depth "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("h2",{attrs:{id:"六、npm-install-安装模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、npm-install-安装模块"}},[s._v("#")]),s._v(" 六、npm install 安装模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取package.json里面的配置单安装")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n//可简写成 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认安装指定模块的最新(@latest)版本")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n//eg:npm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gulp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定模块的指定版本")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n//eg: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gulp@3.9.1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定指定版本范围内的模块")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version range"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n//eg: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" vue@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('">=1.0.28 < 2.0.0"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定模块的指定标签 默认值为(@latest)")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n//eg:npm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sax@0.1.1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过Github代码库地址安装")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tarball url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n//eg:npm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" git://github.com/package/path.git\n")])])]),a("h5",{attrs:{id:"配置选项说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置选项说明"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置选项说明:")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#全局安装")]),s._v("\n-g "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -global\n//eg: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g gulp 或者 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i gulp -g\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这是默认设置，除非-D或-O存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装并将被添加到package.json的dependencies区。")]),s._v("\n-P "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" --save-prod\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#**（生产阶段的依赖）**")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装并将被添加到package.json的dependencies区")]),s._v("\n-S "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" --save\n//eg: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i gulp --save 或 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i gulp -S\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#**（开发阶段的依赖）**")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装并将被添加到package.json的devDependencies区。")]),s._v("\n-D "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" --save-dev\n//npm i gulp --save-dev 或 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i gulp -D\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#**（可选阶段的依赖）**")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装并将被添加到package.json的optionalDependencies区")]),s._v("\n-O "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" --save-optional\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装模块的确切版，而不是使用npm的默认semver range运算符")]),s._v("\n-E "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" --save-exact\n//npm i gulp --save-exact 或 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i gulp -E\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装并将被添加到`bundleDependencies`列表中")]),s._v("\n-B "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" --save-bundle\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#模块不管是否安装过，npm 都要强制重新安装")]),s._v("\n-f"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("--force\n//eg:npm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sax --force\n//补充：所有模块都要强制重新安装，那就删除"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("node_modules"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("，重新执行"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf node_modules //或者手动去删除node_modules目录\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#防止保存到`dependencies`")]),s._v("\n--no-save\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#报告安装状况而不是真的安装")]),s._v("\n--dry-run\n")])])]),a("h2",{attrs:{id:"七、npm-uninstall-卸载模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、npm-uninstall-卸载模块"}},[s._v("#")]),s._v(" 七、npm uninstall 卸载模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#卸载当前项目或全局模块")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" uninstall "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\neg: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" uninstall gulp --save-dev\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i gulp -g\n\n卸载后，你可以到 /node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_modules/ 目录下查看包是否还存在，或者使用以下命令查看：\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" 查看安装的模块\n")])])]),a("h2",{attrs:{id:"八、npm-update-更新模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、npm-update-更新模块"}},[s._v("#")]),s._v(" 八、npm update 更新模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#升级当前项目或全局的指定模块")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n//eg: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update express\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update express -g\n")])])]),a("h2",{attrs:{id:"九、npm-link-引用模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、npm-link-引用模块"}},[s._v("#")]),s._v(" 九、npm link 引用模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 引用依赖 有些包是全局安装了，在项目里面只需要引用即可。")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("@scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pkg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n//eg: 引用   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" gulp gulp-ssh gulp-ftp\n//eg: 解除引用 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unlink gulp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 引用模块 本人用得少没深入说了 用得上时可去翻文档例子")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("in package "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"十、npm-run-执行脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十、npm-run-执行脚本"}},[s._v("#")]),s._v(" 十、npm run 执行脚本")]),s._v(" "),a("p",[a("code",[s._v("package.json")]),s._v("的"),a("code",[s._v("scripts")]),s._v("字段，可以用于指定脚本命令，供"),a("code",[s._v("npm")]),s._v("直接调用。"),a("code",[s._v("npm run")]),s._v("会创建一个 Shell，执行指定的命令。")]),s._v(" "),a("h5",{attrs:{id:"两个命令简写-start和test属于特殊命令-可以省略-run-其余的都得带上-run。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两个命令简写-start和test属于特殊命令-可以省略-run-其余的都得带上-run。"}},[s._v("#")]),s._v(" 两个命令简写，"),a("code",[s._v("start")]),s._v("和"),a("code",[s._v("test")]),s._v("属于特殊命令，可以省略 run,其余的都得带上 run。")]),s._v(" "),a("h5",{attrs:{id:"npm-run的参数。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-run的参数。"}},[s._v("#")]),s._v(" "),a("code",[s._v("npm run")]),s._v("的参数。")]),s._v(" "),a("ul",[a("li",[s._v("如果不加任何参数，直接运行，会列出"),a("code",[s._v("package.json")]),s._v("里面所有可以执行的脚本命令")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://segmentfault.com/img/bVbFksm",alt:"image.png"}})]),s._v(" "),a("ul",[a("li",[s._v("可配置参数 格式是加上两个连词线（--）")])]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("---package.json文件---\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mocha test/"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n-------终端-------\n$ npm run test -- anothertest.js\n# 等同于直接执行\n$ mocha test/ anothertest.js\n")])])]),a("h5",{attrs:{id:"内部变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内部变量"}},[s._v("#")]),s._v(" 内部变量")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("---package.json文件-- -\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm_test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"reporter"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xunit"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bundle"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mkdir -p build/$npm_package_version/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//$npm_package_version 读的是外层"version"的值，同理$npm_package_name 读的是外层"name"的值')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mocha test/ --reporter $npm_package_config_reporter"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//$npm_package_config_reporter读的是"config"里的"reporter"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h5",{attrs:{id:"pre-和post-两个钩子-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pre-和post-两个钩子-hook"}},[s._v("#")]),s._v(" "),a("code",[s._v("pre-")]),s._v("和"),a("code",[s._v("post-")]),s._v("两个钩子（hook）")]),s._v(" "),a("p",[s._v("npm 会先查看有没有定义 prelint 和 postlint 两个钩子，如果有的话，就会\n先执行"),a("code",[s._v("npm run pre-命令名")]),s._v("，然后执行"),a("code",[s._v("npm run 命令名")]),s._v("，最后执行"),a("code",[s._v("npm run post-命令名")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("---package.json文件---\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --cache --ext .js --ext .jsx src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"karma start --log-leve=error karma.config.js --single-run=true"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"pretest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run lint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"posttest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"echo 'Finished running tests'\"")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n-------终端-------\n$ npm run lint\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//直接执行 npm run lint 结束")]),s._v("\n\n$ npm run test\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//因为有定义了两个钩子pretest、posttest。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//所以先执行 npm run pretest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//然后执行 npm run test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//最后执行 npm run posttest")]),s._v("\n")])])]),a("h2",{attrs:{id:"十一、npm-publish-发布模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十一、npm-publish-发布模块"}},[s._v("#")]),s._v(" 十一、npm publish 发布模块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 未注册 申请注册一个用户 直接在https://www.npmjs.com/注册一样")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser\n//执行后 填写几个问题 Username、Password、Email\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#已注册")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发布")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);